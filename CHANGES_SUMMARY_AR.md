# ููุฎุต ุงูุชุนุฏููุงุช ุนูู ุชุทุจูู ุงููุคุฐู

## ๐ฏ ุงููุดููุฉ ุงูุฃุตููุฉ

ุนูุฏ ุงูุชุนุฏูู ุงููุฏูู ุนูู ููุงููุช ุงูุตูุงุฉ:
- โ ูุชู ุญูุธ ุงูุชุนุฏููุงุช ุจูุฌุงุญ
- โ ููู ุนูุฏ ุชุญุฏูุซ ุงูุตูุญุฉุ ุชุฎุชูู ุงูุชุนุฏููุงุช
- โ ุนูุฏ ุงูุชุญุฏูุซ ุงููููู ุงูุชููุงุฆูุ ูุชู ุงุณุชุจุฏุงู ุงูุชุนุฏููุงุช ุงููุฏููุฉ ุจุงูููุงููุช ูู API

## โ ุงูุญู ุงููุทุจูู

ุชู ุฅุถุงูุฉ ูุธุงู **Offsets** (ุงููุฑููุงุช ุงูุฒูููุฉ) ุงูุฐู:
1. ูุญุณุจ ุงููุฑู ุจูู ุงูููุช ุงููุนุฏูู ูุฏููุงู ูุงูููุช ูู API
2. ูุญูุธ ูุฐุง ุงููุฑู ุจุงูุฏูุงุฆู
3. ูุทุจู ุงููุฑู ุชููุงุฆูุงู ุนูู ุฌููุน ุงูุฃููุงุช ุงููุณุชูุจููุฉ ูู API

## ๐ง ุงูุชุบููุฑุงุช ุงูุชูููุฉ

### 1. ููู `AlMoazinClock.tsx`

#### ุฅุถุงูุฉ ุฎุตุงุฆุต ุฌุฏูุฏุฉ ููุฅุนุฏุงุฏุงุช:
```typescript
prayerTimeOffsets?: {
  fajr: number;
  dhuhr: number;
  asr: number;
  maghrib: number;
  isha: number;
}
shuruqOffset?: number;
jumuahOffset?: number;
```

#### ุฅุถุงูุฉ ุฏุงูุฉ ูุชุทุจูู ุงูู offset:
```typescript
const applyOffsetToTime = (time: string, offsetMinutes: number): string => {
  // ุชุญููู ุงูููุช HH:MM ุฅูู ุฏูุงุฆู
  // ุฅุถุงูุฉ ุงูู offset
  // ุฅุฑุฌุงุน ุงูููุช ุงูุฌุฏูุฏ
}
```

#### ุชุนุฏูู ุฏุงูุฉ `fetchPrayerTimesAndWeather`:
- ุจุนุฏ ุฌูุจ ุงูุฃููุงุช ูู APIุ ูุชู ุชุทุจูู ุงูู offsets ุงููุญููุธุฉ
- ุญูุธ ุงูุฃููุงุช ุงูุฃุตููุฉ ูุงููุนุฏููุฉ ูู localStorage

### 2. ููู `SettingsPanel.tsx`

#### ุฅุถุงูุฉ ุฏุงูุฉ ูุญุณุงุจ ุงููุฑู ุงูุฒููู:
```typescript
const calculateTimeDifference = (time1: string, time2: string): number => {
  // ุญุณุงุจ ุงููุฑู ุจุงูุฏูุงุฆู ุจูู ููุชูู
  // ูุน ูุนุงูุฌุฉ ุงูุงูุชูุงู ุจูู ุงูุฃูุงู
}
```

#### ุชุนุฏูู `handlePrayerTimeChange`:
- ุนูุฏ ุชุนุฏูู ููุช ุตูุงุฉุ ูุญุณุจ ุงููุฑู ูุน ุงูููุช ุงูุฃุตูู ูู API
- ูุญูุธ ุงููุฑู ูู offset
- ูุญูุธ ุงูููุช ุงููุนุฏูู

## ๐ ุขููุฉ ุงูุนูู

### ุนูุฏ ุฌูุจ ููุงููุช ุฌุฏูุฏุฉ ูู API:

```
ููุช API ูููุฌุฑ: 04:02
โ
ุชุทุจูู offset ุงููุญููุธ: +5 ุฏูุงุฆู
โ
ุงูููุช ุงููุนุฑูุถ: 04:07 โ
```

### ุนูุฏ ุงูุชุนุฏูู ุงููุฏูู:

```
ุงููุณุชุฎุฏู ูุนุฏูู ุงููุฌุฑ ูู 04:02 ุฅูู 04:07
โ
ุงููุธุงู ูุญุณุจ: 04:07 - 04:02 = +5 ุฏูุงุฆู
โ
ูุญูุธ offset = +5
โ
ูู ูู ุชุญุฏูุซ ูุณุชูุจูู ูุถูู +5 ุฏูุงุฆู ุชููุงุฆูุงู โ
```

## ๐งช ุงุฎุชุจุงุฑ ุงููุธุงู

### ุงูุฎุทูุงุช:
1. ุชุดุบูู ุงูุชุทุจูู: `npm run dev`
2. ูุชุญ ุงูุฅุนุฏุงุฏุงุช ูุชุนุฏูู ููุช ุตูุงุฉ
3. ุญูุธ ูุฅุบูุงู
4. ุชุญุฏูุซ ุงูุตูุญุฉ (F5) - ูุฌุจ ุฃู ูุจูู ุงูุชุนุฏูู โ
5. ุงูุถุบุท ุนูู ุฒุฑ ุงูุชุญุฏูุซ - ูุฌุจ ุฃู ูุทุจู ุงูุชุนุฏูู ุนูู ุงูุฃููุงุช ุงูุฌุฏูุฏุฉ โ

### ูู ุงูููู ุงูุชุงูู:
- ุณูุชู ุฌูุจ ุฃููุงุช ุฌุฏูุฏุฉ ูู API ุชููุงุฆูุงู
- ุณุชุทุจู ุงูู offsets ุงููุญููุธุฉ
- ุงููุชูุฌุฉ: ุงูุชุนุฏููุงุช ุชุจูู ุฏุงุฆูุงู โ

## ๐ฆ ุงูุจูุงูุงุช ุงููุฎุฒูุฉ

### ูู `localStorage` ุชุญุช ููุชุงุญ `alMoazinClockSettings`:
```json
{
  "prayerTimes": {
    "fajr": "04:07",
    "dhuhr": "12:42",
    ...
  },
  "prayerTimeOffsets": {
    "fajr": 5,
    "dhuhr": 0,
    ...
  },
  "shuruqOffset": 7,
  ...
}
```

### ูู `localStorage` ุชุญุช ููุชุงุญ `alMoazinPrayerTimes`:
```json
{
  "date": "2025-10-08",
  "times": {
    "fajr": "04:02",  // ุงูููุช ุงูุฃุตูู ูู API
    ...
  },
  "adjustedTimes": {
    "fajr": "04:07",  // ุจุนุฏ ุชุทุจูู offset
    ...
  }
}
```

## โจ ุงูููุฒุงุช ุงูุฌุฏูุฏุฉ

1. โ **ุงูุญูุงุธ ุนูู ุงูุชุนุฏููุงุช ุงููุฏููุฉ** - ูู ุชุฎุชูู ุจุนุฏ ุงูุชุญุฏูุซ
2. โ **ุชุญุฏูุซ ุชููุงุฆู ุฐูู** - ูุทุจู ุงูุชุนุฏููุงุช ุนูู ุงูุฃููุงุช ุงูุฌุฏูุฏุฉ
3. โ **ุฏุนู ุงูุชูุฏูู ูุงูุชุฃุฎูุฑ** - ููู ููุฌุจุฉ ูุณุงูุจุฉ
4. โ **ุณูู ุงูุงุณุชุฎุฏุงู** - ููุท ุนุฏูู ุงูููุช ูุงุญูุธ!
5. โ **ูุนูู ูุน ุฌููุน ุงูุตููุงุช** - ุงููุฌุฑุ ุงูุธูุฑุ ุงูุนุตุฑุ ุงููุบุฑุจุ ุงูุนุดุงุก
6. โ **ูุดูู ุงูุดุฑูู ูุงูุฌูุนุฉ** ุฃูุถุงู

## ๐ ุงูุชุดุบูู

```bash
# ููุชุทููุฑ
npm run dev

# ููุจูุงุก
npm run build

# ููุชุดุบูู ุจุนุฏ ุงูุจูุงุก
npm start
```

## ๐ ููุงุญุธุงุช ูููุฉ

- ุงูู offsets ุชูุญูุธ ุจุงูุฏูุงุฆู
- ุงูููู ุงูููุฌุจุฉ = ุชุฃุฎูุฑ ุงูููุช
- ุงูููู ุงูุณุงูุจุฉ = ุชูุฏูู ุงูููุช
- ุงููุธุงู ูุชุนุงูู ูุน ุงูุงูุชูุงู ุจูู ุงูุฃูุงู (midnight wrap-around)
- ุงูุจูุงูุงุช ูุญููุธุฉ ูู localStorage ูุฐุง ุชุจูู ุญุชู ุจุนุฏ ุฅุบูุงู ุงููุชุตูุญ

## ๐ ุงูุชูุงุตู

**ูุงุตุฑ ุนูุถ ููุฃุฌูุฒุฉ ุงูุตูุชูุฉ ูุงูุฅููุชุฑูููุงุช**  
ูุงุชู: 0795644423

---

**ุชุงุฑูุฎ ุงูุชุนุฏูู:** 2025-10-08  
**ุงูุฅุตุฏุงุฑ:** 1.4.0
